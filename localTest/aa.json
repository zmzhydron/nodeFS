<!doctype html>
<html lang="zh" data-hairline="true" data-reactroot="" data-reactid="1" data-react-checksum="1456582088"><head data-reactid="2"><meta charset="utf-8" data-reactid="3"/><title data-react-helmet="true" data-reactid="4">对知乎内容使用爬虫爬取数据，为什么会遇到403问题？ - 知乎</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1" data-reactid="5"/><meta name="renderer" content="webkit" data-reactid="6"/><meta name="force-rendering" content="webkit" data-reactid="7"/><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" data-reactid="8"/><meta name="google-site-verification" content="FTeR0c8arOPKh8c5DYh_9uu98_zJbaWw53J-Sch9MTg" data-reactid="9"/><meta data-react-helmet="true" name="apple-itunes-app" content="app-id=432274380, app-argument=zhihu://questions/29926060" data-reactid="10"/><link rel="shortcut icon" type="image/x-icon" href="https://static.zhihu.com/static/favicon.ico" data-reactid="11"/><link rel="dns-prefetch" href="//static.zhimg.com" data-reactid="12"/><link rel="dns-prefetch" href="//pic1.zhimg.com" data-reactid="13"/><link rel="dns-prefetch" href="//pic2.zhimg.com" data-reactid="14"/><link rel="dns-prefetch" href="//pic3.zhimg.com" data-reactid="15"/><link rel="dns-prefetch" href="//pic4.zhimg.com" data-reactid="16"/><link href="https://static.zhihu.com/heifetz/main.app.34154990ac5c63d562d7.css" rel="stylesheet" data-reactid="17"/></head><body class="Entry-body" data-reactid="18"><div id="root" data-reactid="19"><div data-zop-userToken="{}"><div class="LoadingBar"></div><div><header role="banner" class="Sticky AppHeader" data-za-module="TopNavBar"><div class="AppHeader-inner"><a href="/" aria-label="知乎"><svg viewBox="0 0 200 91" class="Icon Icon--logo" style="fill:#0f88eb;height:30px;width:64px;" width="64" height="30" aria-hidden="true"><title></title><g><path d="M53.29 80.035l7.32.002 2.41 8.24 13.128-8.24h15.477v-67.98H53.29v67.978zm7.79-60.598h22.756v53.22h-8.73l-8.718 5.473-1.587-5.46-3.72-.012v-53.22zM46.818 43.162h-16.35c.545-8.467.687-16.12.687-22.955h15.987s.615-7.05-2.68-6.97H16.807c1.09-4.1 2.46-8.332 4.1-12.708 0 0-7.523 0-10.085 6.74-1.06 2.78-4.128 13.48-9.592 24.41 1.84-.2 7.927-.37 11.512-6.94.66-1.84.785-2.08 1.605-4.54h9.02c0 3.28-.374 20.9-.526 22.95H6.51c-3.67 0-4.863 7.38-4.863 7.38H22.14C20.765 66.11 13.385 79.24 0 89.62c6.403 1.828 12.784-.29 15.937-3.094 0 0 7.182-6.53 11.12-21.64L43.92 85.18s2.473-8.402-.388-12.496c-2.37-2.788-8.768-10.33-11.496-13.064l-4.57 3.627c1.363-4.368 2.183-8.61 2.46-12.71H49.19s-.027-7.38-2.372-7.38zm128.752-.502c6.51-8.013 14.054-18.302 14.054-18.302s-5.827-4.625-8.556-1.27c-1.874 2.548-11.51 15.063-11.51 15.063l6.012 4.51zm-46.903-18.462c-2.814-2.577-8.096.667-8.096.667s12.35 17.2 12.85 17.953l6.08-4.29s-8.02-11.752-10.83-14.33zM199.99 46.5c-6.18 0-40.908.292-40.953.292v-31.56c1.503 0 3.882-.124 7.14-.376 12.773-.753 21.914-1.25 27.427-1.504 0 0 3.817-8.496-.185-10.45-.96-.37-7.24 1.43-7.24 1.43s-51.63 5.153-72.61 5.64c.5 2.756 2.38 5.336 4.93 6.11 4.16 1.087 7.09.53 15.36.277 7.76-.5 13.65-.76 17.66-.76v31.19h-41.71s.88 6.97 7.97 7.14h33.73v22.16c0 4.364-3.498 6.87-7.65 6.6-4.4.034-8.15-.36-13.027-.566.623 1.24 1.977 4.496 6.035 6.824 3.087 1.502 5.054 2.053 8.13 2.053 9.237 0 14.27-5.4 14.027-14.16V53.93h38.235c3.026 0 2.72-7.432 2.72-7.432z" fill-rule="evenodd"/></g></svg></a><nav role="navigation" class="AppHeader-nav"><a class="AppHeader-navItem" href="/">首页</a><a class="AppHeader-navItem" href="/explore">发现</a><a class="AppHeader-navItem" href="/topic">话题</a></nav><div class="SearchBar" role="search"><div class="SearchBar-toolWrapper"><form class="SearchBar-tool"><div><div class="Popover"><div class="SearchBar-input Input-wrapper Input-wrapper--grey"><input type="text" maxlength="100" value="" autocomplete="off" role="combobox" aria-expanded="false" aria-autocomplete="list" aria-activedescendant="null--1" id="null-toggle" aria-haspopup="true" aria-owns="null-content" class="Input" placeholder="搜索你感兴趣的内容…"/><div class="Input-after"><button class="Button SearchBar-searchIcon Button--primary" aria-label="搜索" type="button"><svg viewBox="0 0 16 16" class="Icon Icon--search" style="height:16px;width:16px;" width="16" height="16" aria-hidden="true"><title></title><g><path d="M12.054 10.864c.887-1.14 1.42-2.57 1.42-4.127C13.474 3.017 10.457 0 6.737 0S0 3.016 0 6.737c0 3.72 3.016 6.737 6.737 6.737 1.556 0 2.985-.533 4.127-1.42l3.103 3.104c.765.46 1.705-.37 1.19-1.19l-3.103-3.104zm-5.317.925c-2.786 0-5.053-2.267-5.053-5.053S3.95 1.684 6.737 1.684 11.79 3.95 11.79 6.737 9.522 11.79 6.736 11.79z"/></g></svg></button></div></div></div></div></form></div></div><div class="AppHeader-userInfo"><div class="AppHeader-profile"><div><button class="Button AppHeader-login Button--blue" type="button">登录</button><button class="Button Button--primary Button--blue" type="button">加入知乎</button></div></div></div></div></header></div><main role="main" class="App-main"><div class="QuestionPage" itemscope="" itemtype="http://schema.org/Question"><meta itemprop="name" content="对知乎内容使用爬虫爬取数据，为什么会遇到403问题？"/><meta itemprop="url" content="https://www.zhihu.com/question/29926060"/><meta itemprop="keywords" content="知乎,程序员,PHP,爬虫 (计算机网络),网页爬虫"/><meta itemprop="answerCount" content="16"/><meta itemprop="commentCount" content="1"/><meta itemprop="dateCreated" content="2015-04-27T14:22:38.000Z"/><meta itemprop="dateModified" content="2015-04-27T14:22:38.000Z"/><meta itemprop="zhihu:visitsCount"/><meta itemprop="zhihu:followerCount" content="219"/><div data-zop-question="{&quot;title&quot;:&quot;对知乎内容使用爬虫爬取数据，为什么会遇到403问题？&quot;,&quot;topics&quot;:[{&quot;name&quot;:&quot;知乎&quot;,&quot;id&quot;:&quot;19550228&quot;},{&quot;name&quot;:&quot;程序员&quot;,&quot;id&quot;:&quot;19552330&quot;},{&quot;name&quot;:&quot;PHP&quot;,&quot;id&quot;:&quot;19552910&quot;},{&quot;name&quot;:&quot;爬虫 (计算机网络)&quot;,&quot;id&quot;:&quot;19577498&quot;},{&quot;name&quot;:&quot;网页爬虫&quot;,&quot;id&quot;:&quot;19794679&quot;}],&quot;id&quot;:29926060,&quot;isEditable&quot;:false}"><div class="QuestionHeader"><div class="QuestionHeader-content"><div class="QuestionHeader-main"><div class="QuestionHeader-tags"><div class="QuestionHeader-topics"><div class="Tag QuestionTopic"><span class="Tag-content"><a class="TopicLink" href="/topic/19550228"><div class="Popover"><div id="null-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="null-content">知乎</div></div></a></span></div><div class="Tag QuestionTopic"><span class="Tag-content"><a class="TopicLink" href="/topic/19552330"><div class="Popover"><div id="null-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="null-content">程序员</div></div></a></span></div><div class="Tag QuestionTopic"><span class="Tag-content"><a class="TopicLink" href="/topic/19552910"><div class="Popover"><div id="null-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="null-content">PHP</div></div></a></span></div><div class="Tag QuestionTopic"><span class="Tag-content"><a class="TopicLink" href="/topic/19577498"><div class="Popover"><div id="null-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="null-content">爬虫 (计算机网络)</div></div></a></span></div><div class="Tag QuestionTopic"><span class="Tag-content"><a class="TopicLink" href="/topic/19794679"><div class="Popover"><div id="null-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="null-content">网页爬虫</div></div></a></span></div></div></div><h1 class="QuestionHeader-title">对知乎内容使用爬虫爬取数据，为什么会遇到403问题？</h1><div class="QuestionHeader-detail"><div class="QuestionRichText QuestionRichText--expandable QuestionRichText--collapsed"><div><span class="RichText" itemprop="text">我想抓取知乎上用户的关注信息，如查看A关注了哪些人，通过<a href="http://www.zhihu.com/people/pansz/followees" class="internal">www.zhihu.com/people/XXX/followees</a>这个页面来获得followee的列表，但是在抓取中遇到了403问题。 1.爬虫仅仅是为了搜集用户关注信息，用于学术研究，绝非商业或其他目的 2.使用PHP，利用curl构造请求，使用simple_html_dom来解析文档 3.在用户的关注者（Followees）列表，应该是使用Ajax进行动态加载更多的followees，于是我想直接爬接口的数据，通过firebug查看到，加…</span><button class="Button QuestionRichText-more Button--plain" type="button">显示全部<svg viewBox="0 0 10 6" class="Icon QuestionRichText-more-icon Icon--arrow" style="height:16px;width:10px;" width="10" height="16" aria-hidden="true"><title></title><g><path d="M8.716.217L5.002 4 1.285.218C.99-.072.514-.072.22.218c-.294.29-.294.76 0 1.052l4.25 4.512c.292.29.77.29 1.063 0L9.78 1.27c.293-.29.293-.76 0-1.052-.295-.29-.77-.29-1.063 0z"/></g></svg></button></div></div></div></div><div class="QuestionHeader-side"><div class="QuestionHeader-follow-status"><div class="QuestionFollowStatus"><div class="NumberBoard QuestionFollowStatus-counts"><div class="NumberBoard-item"><div class="NumberBoard-name">关注者</div><div class="NumberBoard-value">219</div></div><div class="NumberBoard-divider"></div><div class="NumberBoard-item"><div class="NumberBoard-name">被浏览</div><div class="NumberBoard-value">22386</div></div></div></div></div></div></div><div class="QuestionHeader-footer"><div class="QuestionHeader-footer-inner"><div class="QuestionHeader-main QuestionHeader-footer-main"><div class="QuestionHeaderActions"><div class="QuestionHeader-Comment"><button class="Button Button--plain" type="button"><svg viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--comment Icon--left" style="height:15px;width:20px;" width="20" height="15" aria-hidden="true"><title></title><g><path d="M7.24 16.313c-.272-.047-.553.026-.77.2-1.106.813-2.406 1.324-3.77 1.482-.16.017-.313-.06-.394-.197-.082-.136-.077-.308.012-.44.528-.656.906-1.42 1.11-2.237.04-.222-.046-.45-.226-.588C1.212 13.052.027 10.73 0 8.25 0 3.7 4.03 0 9 0s9 3.7 9 8.25-4.373 9.108-10.76 8.063z"/></g></svg>1 条评论</button></div><div class="Popover ShareMenu"><div id="null-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="null-content"><button class="Button Button--plain" type="button"><svg viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--share Icon--left" style="height:16px;width:13px;" width="13" height="16" aria-hidden="true"><title></title><g><path d="M.93 3.89C-.135 4.13-.343 5.56.614 6.098L5.89 9.005l8.168-4.776c.25-.128.477.197.273.388L7.05 10.66l.926 5.953c.18 1.084 1.593 1.376 2.182.456l9.644-15.243c.584-.892-.212-2.03-1.234-1.796L.93 3.89z"/></g></svg>分享</button></div></div><button class="Button Button--plain" type="button"><svg viewBox="0 0 20 20" class="Icon Icon--star Icon--left" style="height:16px;width:13px;" width="13" height="16" aria-hidden="true"><title></title><g><path d="M3.515 17.64l.918-5.355-3.89-3.792c-.926-.902-.64-1.784.64-1.97L6.56 5.74 8.964.87c.572-1.16 1.5-1.16 2.072 0l2.404 4.87 5.377.783c1.28.186 1.566 1.068.64 1.97l-3.89 3.793.918 5.354c.22 1.274-.532 1.82-1.676 1.218L10 16.33l-4.808 2.528c-1.145.602-1.896.056-1.677-1.218z"/></g></svg>邀请回答</button><div class="Popover"><button class="Button Button--plain" type="button" id="null-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="null-content"><svg viewBox="0 0 18 4" class="Icon Icon--dots" style="height:16px;width:14px;" width="14" height="16" aria-hidden="true"><title></title><g><g><circle cx="2" cy="2" r="2"/><circle cx="9" cy="2" r="2"/><circle cx="16" cy="2" r="2"/></g></g></svg></button></div></div><div class="QuestionHeader-actions"></div></div><div class="QuestionHeader-side"><div class="QuestionButtonGroup"><button class="Button Button--primary Button--blue" type="button">关注问题</button><button class="Button Button--blue" type="button"><svg viewBox="0 0 12 12" class="Icon Button-icon Icon--modify" style="height:16px;width:14px;" width="14" height="16" aria-hidden="true"><title></title><g><path d="M.423 10.32L0 12l1.667-.474 1.55-.44-2.4-2.33-.394 1.564zM10.153.233c-.327-.318-.85-.31-1.17.018l-.793.817 2.49 2.414.792-.814c.318-.328.312-.852-.017-1.17l-1.3-1.263zM3.84 10.536L1.35 8.122l6.265-6.46 2.49 2.414-6.265 6.46z" fill-rule="evenodd"/></g></svg>写回答</button></div></div></div></div></div><div><div><div class="Sticky"></div></div></div></div><div class="Question-main"><div class="Question-mainColumn"><div><div id="QuestionAnswers-answers" class="QuestionAnswers-answers"><div class="Card"><div class="List"><div class="List-header"><h4 class="List-headerText"><span>16 个回答</span></h4><div class="List-headerOptions"><div class="Popover"><button class="Button Select-button Select-plainButton Button--plain" role="combobox" aria-expanded="false" type="button" id="null-toggle" aria-haspopup="true" aria-owns="null-content">默认排序<svg viewBox="0 0 8 13" class="Icon Select-arrow Icon--select" style="height:16px;width:8px;" width="8" height="16" aria-hidden="true"><title></title><g><path d="M4 11.183L1.284 8.218c-.293-.29-.77-.29-1.064 0-.293.29-.293.76 0 1.052l3.25 3.512c.292.29.768.29 1.062 0L7.78 9.27c.293-.29.293-.76 0-1.052-.295-.29-.77-.29-1.064 0L4 11.182zM4 1.818L1.284 4.782c-.293.29-.77.29-1.064 0-.293-.29-.293-.76 0-1.052L3.47.218c.292-.29.768-.29 1.062 0L7.78 3.73c.293.29.293.76 0 1.052-.295.29-.77.29-1.064 0L4 1.82z"/></g></svg></button></div></div></div><div data-zop-feedlist="true"><div class="List-item"><div class="ContentItem AnswerItem" data-za-index="0" data-zop="{&quot;authorName&quot;:&quot;路人甲&quot;,&quot;itemId&quot;:117276271,&quot;title&quot;:&quot;对知乎内容使用爬虫爬取数据，为什么会遇到403问题？&quot;,&quot;type&quot;:&quot;answer&quot;}" name="117276271" itemprop="acceptedAnswer" itemtype="http://schema.org/Answer" itemscope=""><div class="ContentItem-meta"><div class="AnswerItem-meta AnswerItem-meta--related"><div class="AuthorInfo" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="name" content="路人甲"/><meta itemprop="image" content="https://pic3.zhimg.com/958a18f3216805bed269d158fb83325a_is.jpg"/><meta itemprop="url" content="https://www.zhihu.com/people/sgai"/><meta itemprop="zhihu:followerCount" content="171352"/><span class="UserLink AuthorInfo-avatarWrapper"><div class="Popover"><div id="null-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="null-content"><a class="UserLink-link" data-za-detail-view-element_name="User" href="/people/sgai"><img class="Avatar AuthorInfo-avatar" width="38" height="38" src="https://pic3.zhimg.com/958a18f3216805bed269d158fb83325a_xs.jpg" srcset="https://pic3.zhimg.com/958a18f3216805bed269d158fb83325a_l.jpg 2x" alt="路人甲"/></a></div></div></span><div class="AuthorInfo-content"><div class="AuthorInfo-head"><span class="UserLink AuthorInfo-name"><div class="Popover"><div id="null-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="null-content"><a class="UserLink-link" data-za-detail-view-element_name="User" href="/people/sgai">路人甲</a></div></div></span></div><div class="AuthorInfo-detail"><div class="AuthorInfo-badge"><div class="RichText AuthorInfo-badgeText">喜欢用数据讲故事。</div></div></div></div></div><div class="AnswerItem-extraInfo"><span class="Voters"><button class="Button Button--plain" type="button">45 人赞同了该回答</button></span></div></div></div><meta itemprop="image" content="https://pic4.zhimg.com/84f6a01356d4ae1be5b59c771522d07b_200x112.png"/><meta itemprop="upvoteCount" content="45"/><meta itemprop="url" content="https://www.zhihu.com/question/29926060/answer/117276271"/><meta itemprop="dateCreated" content="2016-08-16T23:59:55.000Z"/><meta itemprop="dateModified" content="2016-08-16T23:59:55.000Z"/><meta itemprop="commentCount" content="15"/><div class="RichContent RichContent--unescapable"><div class="RichContent-inner"><span class="RichText CopyrightRichText-richText" itemprop="text">这两天刚好做了一个抓取用户的关注着和追随者的的爬虫在抓数据，使用的是Python。这里给你一段python的代码，你可以对着代码看一下你的代码问题。<br>403应该就是请求的时候一些数据发错了，下面的代码中涉及到一个打开的文本，文本中的内容是用户的id，文本里面的内容样式我截了图放在最后面。<br><div class="highlight"><pre><code class="language-python3"><span></span><span class="c1">#encoding=utf8</span>
<span class="kn">import</span> <span class="nn">urllib2</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">from</span> <span class="nn">bs4</span> <span class="k">import</span> <span class="n">BeautifulSoup</span>

<span class="n">Default_Header</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'X-Requested-With'</span><span class="p">:</span> <span class="s1">'XMLHttpRequest'</span><span class="p">,</span>
                  <span class="s1">'Referer'</span><span class="p">:</span> <span class="s1">'http://www.zhihu.com'</span><span class="p">,</span>
                  <span class="s1">'User-Agent'</span><span class="p">:</span> <span class="s1">'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; '</span>
                                <span class="s1">'rv:39.0) Gecko/20100101 Firefox/39.0'</span><span class="p">,</span>
                  <span class="s1">'Host'</span><span class="p">:</span> <span class="s1">'www.zhihu.com'</span><span class="p">}</span>
<span class="n">_session</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">session</span><span class="p">()</span>
<span class="n">_session</span><span class="o">.</span><span class="n">headers</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">Default_Header</span><span class="p">)</span> 
<span class="n">resourceFile</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'/root/Desktop/UserId.text'</span><span class="p">,</span><span class="s1">'r'</span><span class="p">)</span>
<span class="n">resourceLines</span> <span class="o">=</span> <span class="n">resourceFile</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
<span class="n">resultFollowerFile</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'/root/Desktop/userIdFollowees.text'</span><span class="p">,</span><span class="s1">'a+'</span><span class="p">)</span>
<span class="n">resultFolloweeFile</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'/root/Desktop/userIdFollowers.text'</span><span class="p">,</span><span class="s1">'a+'</span><span class="p">)</span>

<span class="n">BASE_URL</span> <span class="o">=</span> <span class="s1">'https://www.zhihu.com/'</span>
<span class="n">CAPTURE_URL</span> <span class="o">=</span> <span class="n">BASE_URL</span><span class="o">+</span><span class="s1">'captcha.gif?r=1466595391805&amp;type=login'</span>
<span class="n">PHONE_LOGIN</span> <span class="o">=</span> <span class="n">BASE_URL</span> <span class="o">+</span> <span class="s1">'login/phone_num'</span>

<span class="k">def</span> <span class="nf">login</span><span class="p">():</span>
    <span class="sd">'''登录知乎'''</span>
    <span class="n">username</span> <span class="o">=</span> <span class="s1">''</span><span class="c1">#用户名</span>
    <span class="n">password</span> <span class="o">=</span> <span class="s1">''</span><span class="c1">#密码，注意我这里用的是手机号登录，用邮箱登录需要改一下下面登录地址</span>
    <span class="n">cap_content</span> <span class="o">=</span> <span class="n">urllib2</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">CAPTURE_URL</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="n">cap_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'/root/Desktop/cap.gif'</span><span class="p">,</span><span class="s1">'wb'</span><span class="p">)</span>
    <span class="n">cap_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">cap_content</span><span class="p">)</span>
    <span class="n">cap_file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">captcha</span> <span class="o">=</span> <span class="n">raw_input</span><span class="p">(</span><span class="s1">'capture:'</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"phone_num"</span><span class="p">:</span><span class="n">username</span><span class="p">,</span><span class="s2">"password"</span><span class="p">:</span><span class="n">password</span><span class="p">,</span><span class="s2">"captcha"</span><span class="p">:</span><span class="n">captcha</span><span class="p">}</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">_session</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">PHONE_LOGIN</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
    <span class="nb">print</span> <span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">())[</span><span class="s1">'msg'</span><span class="p">]</span>
    
<span class="k">def</span> <span class="nf">readFollowerNumbers</span><span class="p">(</span><span class="n">followerId</span><span class="p">,</span><span class="n">followType</span><span class="p">):</span>
    <span class="sd">'''读取每一位用户的关注者和追随者，根据type进行判断'''</span>
    <span class="nb">print</span> <span class="n">followerId</span>
    <span class="n">personUrl</span> <span class="o">=</span> <span class="s1">'https://www.zhihu.com/people/'</span> <span class="o">+</span> <span class="n">followerId</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">'</span><span class="se">\n</span><span class="s1">'</span><span class="p">)</span>
    <span class="n">xsrf</span> <span class="o">=</span><span class="n">getXsrf</span><span class="p">()</span>
    <span class="n">hash_id</span> <span class="o">=</span> <span class="n">getHashId</span><span class="p">(</span><span class="n">personUrl</span><span class="p">)</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">Default_Header</span><span class="p">)</span>
    <span class="n">headers</span><span class="p">[</span><span class="s1">'Referer'</span><span class="p">]</span><span class="o">=</span> <span class="n">personUrl</span> <span class="o">+</span> <span class="s1">'/follow'</span><span class="o">+</span><span class="n">followType</span>
    <span class="n">followerUrl</span> <span class="o">=</span> <span class="s1">'https://www.zhihu.com/node/ProfileFollow'</span><span class="o">+</span><span class="n">followType</span><span class="o">+</span><span class="s1">'ListV2'</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"offset"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="s2">"order_by"</span><span class="p">:</span><span class="s2">"created"</span><span class="p">,</span><span class="s2">"hash_id"</span><span class="p">:</span><span class="n">hash_id</span><span class="p">}</span>
    <span class="n">params_encode</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"method"</span><span class="p">:</span><span class="s2">"next"</span><span class="p">,</span><span class="s2">"params"</span><span class="p">:</span><span class="n">params_encode</span><span class="p">,</span><span class="s1">'_xsrf'</span><span class="p">:</span><span class="n">xsrf</span><span class="p">}</span>
    
    <span class="n">signIndex</span> <span class="o">=</span> <span class="mi">20</span>
    <span class="n">offset</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="n">signIndex</span> <span class="o">==</span> <span class="mi">20</span><span class="p">:</span>
        <span class="n">params</span><span class="p">[</span><span class="s1">'offset'</span><span class="p">]</span> <span class="o">=</span> <span class="n">offset</span>
        <span class="n">data</span><span class="p">[</span><span class="s1">'params'</span><span class="p">]</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
        <span class="n">followerUrlJSON</span> <span class="o">=</span> <span class="n">_session</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">followerUrl</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span><span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>
        <span class="n">signIndex</span> <span class="o">=</span> <span class="nb">len</span><span class="p">((</span><span class="n">followerUrlJSON</span><span class="o">.</span><span class="n">json</span><span class="p">())[</span><span class="s1">'msg'</span><span class="p">])</span>
        <span class="n">offset</span> <span class="o">=</span> <span class="n">offset</span> <span class="o">+</span> <span class="n">signIndex</span>
        <span class="n">followerHtml</span> <span class="o">=</span>  <span class="p">(</span><span class="n">followerUrlJSON</span><span class="o">.</span><span class="n">json</span><span class="p">())[</span><span class="s1">'msg'</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">everHtml</span> <span class="ow">in</span> <span class="n">followerHtml</span><span class="p">:</span>
            <span class="n">everHtmlSoup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">everHtml</span><span class="p">)</span>
            <span class="n">personId</span> <span class="o">=</span>  <span class="n">everHtmlSoup</span><span class="o">.</span><span class="n">a</span><span class="p">[</span><span class="s1">'href'</span><span class="p">]</span>
            <span class="n">resultFollowerFile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">personId</span><span class="o">+</span><span class="s1">'</span><span class="se">\n</span><span class="s1">'</span><span class="p">)</span>
            <span class="nb">print</span> <span class="n">personId</span>
            
    
<span class="k">def</span> <span class="nf">getXsrf</span><span class="p">():</span>
    <span class="sd">'''获取用户的xsrf这个是当前用户的'''</span>
    <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">_session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">BASE_URL</span><span class="p">)</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
    <span class="n">_xsrf</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">'input'</span><span class="p">,</span><span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s1">'name'</span><span class="p">:</span><span class="s1">'_xsrf'</span><span class="p">})[</span><span class="s1">'value'</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">_xsrf</span>
    
<span class="k">def</span> <span class="nf">getHashId</span><span class="p">(</span><span class="n">personUrl</span><span class="p">):</span>
    <span class="sd">'''这个是需要抓取的用户的hashid，不是当前登录用户的hashid'''</span>
    <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">_session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">personUrl</span><span class="p">)</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
    <span class="n">hashIdText</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">'script'</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s1">'data-name'</span><span class="p">:</span> <span class="s1">'current_people'</span><span class="p">})</span>
    <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">hashIdText</span><span class="o">.</span><span class="n">text</span><span class="p">)[</span><span class="mi">3</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">login</span><span class="p">()</span>
    <span class="n">followType</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">'请配置抓取类别：0-抓取关注了谁 其它-被哪些人关注'</span><span class="p">)</span>
    <span class="n">followType</span> <span class="o">=</span> <span class="s1">'ees'</span> <span class="k">if</span> <span class="n">followType</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">else</span> <span class="s1">'ers'</span>
    <span class="k">for</span> <span class="n">followerId</span> <span class="ow">in</span> <span class="n">resourceLines</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">readFollowerNumbers</span><span class="p">(</span><span class="n">followerId</span><span class="p">,</span><span class="n">followType</span><span class="p">)</span>
            <span class="n">resultFollowerFile</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">pass</span>
   
<span class="k">if</span> <span class="n">__name__</span><span class="o">==</span><span class="s1">'__main__'</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</code></pre></div><noscript><img data-rawheight="644" data-rawwidth="712" src="https://pic4.zhimg.com/84f6a01356d4ae1be5b59c771522d07b_b.png" class="origin_image zh-lightbox-thumb" width="712" data-original="https://pic4.zhimg.com/84f6a01356d4ae1be5b59c771522d07b_r.png"></noscript><img data-rawheight="644" data-rawwidth="712" src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='712'%20height='644'&gt;&lt;/svg&gt;" class="origin_image zh-lightbox-thumb lazy" width="712" data-original="https://pic4.zhimg.com/84f6a01356d4ae1be5b59c771522d07b_r.png" data-actualsrc="https://pic4.zhimg.com/84f6a01356d4ae1be5b59c771522d07b_b.png"></span></div><div><div class="ContentItem-time"><a target="_blank" href="/question/29926060/answer/117276271">发布于 2016-08-17</a></div></div><div class="ContentItem-actions RichContent-actions"><span><button class="Button VoteButton VoteButton--up" aria-label="赞同" type="button"><svg viewBox="0 0 20 18" class="Icon VoteButton-upIcon Icon--triangle" style="height:16px;width:9px;" width="9" height="16" aria-hidden="true"><title></title><g><path d="M0 15.243c0-.326.088-.533.236-.896l7.98-13.204C8.57.57 9.086 0 10 0s1.43.57 1.784 1.143l7.98 13.204c.15.363.236.57.236.896 0 1.386-.875 1.9-1.955 1.9H1.955c-1.08 0-1.955-.517-1.955-1.9z"/></g></svg>45</button><button class="Button VoteButton VoteButton--down" aria-label="反对" type="button"><svg viewBox="0 0 20 18" class="Icon VoteButton-downIcon Icon--triangle" style="height:16px;width:9px;" width="9" height="16" aria-hidden="true"><title></title><g><path d="M0 15.243c0-.326.088-.533.236-.896l7.98-13.204C8.57.57 9.086 0 10 0s1.43.57 1.784 1.143l7.98 13.204c.15.363.236.57.236.896 0 1.386-.875 1.9-1.955 1.9H1.955c-1.08 0-1.955-.517-1.955-1.9z"/></g></svg></button></span><button class="Button ContentItem-action Button--plain" type="button"><svg viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--comment Icon--left" style="height:16px;width:12px;" width="12" height="16" aria-hidden="true"><title></title><g><path d="M7.24 16.313c-.272-.047-.553.026-.77.2-1.106.813-2.406 1.324-3.77 1.482-.16.017-.313-.06-.394-.197-.082-.136-.077-.308.012-.44.528-.656.906-1.42 1.11-2.237.04-.222-.046-.45-.226-.588C1.212 13.052.027 10.73 0 8.25 0 3.7 4.03 0 9 0s9 3.7 9 8.25-4.373 9.108-10.76 8.063z"/></g></svg>15 条评论</button><div class="Popover ShareMenu ContentItem-action"><div id="null-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="null-content"><button class="Button Button--plain" type="button"><svg viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--share Icon--left" style="height:16px;width:13px;" width="13" height="16" aria-hidden="true"><title></title><g><path d="M.93 3.89C-.135 4.13-.343 5.56.614 6.098L5.89 9.005l8.168-4.776c.25-.128.477.197.273.388L7.05 10.66l.926 5.953c.18 1.084 1.593 1.376 2.182.456l9.644-15.243c.584-.892-.212-2.03-1.234-1.796L.93 3.89z"/></g></svg>分享</button></div></div><button class="Button ContentItem-action Button--plain" type="button"><svg viewBox="0 0 20 20" class="Icon Icon--star Icon--left" style="height:16px;width:13px;" width="13" height="16" aria-hidden="true"><title></title><g><path d="M3.515 17.64l.918-5.355-3.89-3.792c-.926-.902-.64-1.784.64-1.97L6.56 5.74 8.964.87c.572-1.16 1.5-1.16 2.072 0l2.404 4.87 5.377.783c1.28.186 1.566 1.068.64 1.97l-3.89 3.793.918 5.354c.22 1.274-.532 1.82-1.676 1.218L10 16.33l-4.808 2.528c-1.145.602-1.896.056-1.677-1.218z"/></g></svg>收藏</button><button class="Button ContentItem-action Button--plain" type="button"><svg width="14" height="16" viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--thank Icon--left" style="height:16px;width:14px;" aria-hidden="true"><title></title><g><path d="M0 5.437C0 2.505 2.294.094 5.207 0 7.243 0 9.092 1.19 10 3c.823-1.758 2.65-3 4.65-3C17.546 0 20 2.507 20 5.432 20 13.24 11.842 18 10 18 8.158 18 0 13.24 0 5.437z" fill-rule="evenodd"/></g></svg>感谢</button><button class="Button ContentItem-action ContentItem-rightButton Button--plain" data-zop-retract-question="true" type="button"><span class="RichContent-collapsedText">收起</span><svg viewBox="0 0 10 6" class="Icon ContentItem-arrowIcon is-active Icon--arrow" style="height:16px;width:10px;" width="10" height="16" aria-hidden="true"><title></title><g><path d="M8.716.217L5.002 4 1.285.218C.99-.072.514-.072.22.218c-.294.29-.294.76 0 1.052l4.25 4.512c.292.29.77.29 1.063 0L9.78 1.27c.293-.29.293-.76 0-1.052-.295-.29-.77-.29-1.063 0z"/></g></svg></button></div></div></div></div><div class="List-item"><div class="ContentItem AnswerItem" data-za-index="1" data-zop="{&quot;authorName&quot;:&quot;匿名用户&quot;,&quot;itemId&quot;:46420213,&quot;title&quot;:&quot;对知乎内容使用爬虫爬取数据，为什么会遇到403问题？&quot;,&quot;type&quot;:&quot;answer&quot;}" name="46420213" itemprop="suggestedAnswer" itemtype="http://schema.org/Answer" itemscope=""><div class="ContentItem-meta"><div class="AnswerItem-meta AnswerItem-meta--related"><div class="AuthorInfo" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="name" content="匿名用户"/><meta itemprop="image" content="https://pic2.zhimg.com/aadd7b895_is.jpg"/><meta itemprop="url" content="https://www.zhihu.com/people/"/><meta itemprop="zhihu:followerCount" content="0"/><span class="UserLink AuthorInfo-avatarWrapper"><img class="Avatar AuthorInfo-avatar" width="38" height="38" src="https://pic2.zhimg.com/aadd7b895_xs.jpg" srcset="https://pic2.zhimg.com/aadd7b895_l.jpg 2x" alt="匿名用户"/></span><div class="AuthorInfo-content"><div class="AuthorInfo-head"><span class="UserLink AuthorInfo-name">匿名用户</span></div><div class="AuthorInfo-detail"><div class="AuthorInfo-badge"></div></div></div></div></div></div><meta itemprop="image" content=""/><meta itemprop="upvoteCount" content="0"/><meta itemprop="url" content="https://www.zhihu.com/question/29926060/answer/46420213"/><meta itemprop="dateCreated" content="2015-05-01T02:20:21.000Z"/><meta itemprop="dateModified" content="2015-05-01T02:20:21.000Z"/><meta itemprop="commentCount" content="0"/><div class="RichContent RichContent--unescapable"><div class="RichContent-inner"><span class="RichText CopyrightRichText-richText" itemprop="text">你先找个浏览器，研究一下request的HTTP Header再来抓</span></div><div><div class="ContentItem-time"><a target="_blank" href="/question/29926060/answer/46420213">发布于 2015-05-01</a></div></div><div class="ContentItem-actions RichContent-actions"><span><button class="Button VoteButton VoteButton--up" aria-label="赞同" type="button"><svg viewBox="0 0 20 18" class="Icon VoteButton-upIcon Icon--triangle" style="height:16px;width:9px;" width="9" height="16" aria-hidden="true"><title></title><g><path d="M0 15.243c0-.326.088-.533.236-.896l7.98-13.204C8.57.57 9.086 0 10 0s1.43.57 1.784 1.143l7.98 13.204c.15.363.236.57.236.896 0 1.386-.875 1.9-1.955 1.9H1.955c-1.08 0-1.955-.517-1.955-1.9z"/></g></svg>0</button><button class="Button VoteButton VoteButton--down" aria-label="反对" type="button"><svg viewBox="0 0 20 18" class="Icon VoteButton-downIcon Icon--triangle" style="height:16px;width:9px;" width="9" height="16" aria-hidden="true"><title></title><g><path d="M0 15.243c0-.326.088-.533.236-.896l7.98-13.204C8.57.57 9.086 0 10 0s1.43.57 1.784 1.143l7.98 13.204c.15.363.236.57.236.896 0 1.386-.875 1.9-1.955 1.9H1.955c-1.08 0-1.955-.517-1.955-1.9z"/></g></svg></button></span><button class="Button ContentItem-action Button--plain" type="button"><svg viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--comment Icon--left" style="height:16px;width:12px;" width="12" height="16" aria-hidden="true"><title></title><g><path d="M7.24 16.313c-.272-.047-.553.026-.77.2-1.106.813-2.406 1.324-3.77 1.482-.16.017-.313-.06-.394-.197-.082-.136-.077-.308.012-.44.528-.656.906-1.42 1.11-2.237.04-.222-.046-.45-.226-.588C1.212 13.052.027 10.73 0 8.25 0 3.7 4.03 0 9 0s9 3.7 9 8.25-4.373 9.108-10.76 8.063z"/></g></svg>添加评论</button><div class="Popover ShareMenu ContentItem-action"><div id="null-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="null-content"><button class="Button Button--plain" type="button"><svg viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--share Icon--left" style="height:16px;width:13px;" width="13" height="16" aria-hidden="true"><title></title><g><path d="M.93 3.89C-.135 4.13-.343 5.56.614 6.098L5.89 9.005l8.168-4.776c.25-.128.477.197.273.388L7.05 10.66l.926 5.953c.18 1.084 1.593 1.376 2.182.456l9.644-15.243c.584-.892-.212-2.03-1.234-1.796L.93 3.89z"/></g></svg>分享</button></div></div><button class="Button ContentItem-action Button--plain" type="button"><svg viewBox="0 0 20 20" class="Icon Icon--star Icon--left" style="height:16px;width:13px;" width="13" height="16" aria-hidden="true"><title></title><g><path d="M3.515 17.64l.918-5.355-3.89-3.792c-.926-.902-.64-1.784.64-1.97L6.56 5.74 8.964.87c.572-1.16 1.5-1.16 2.072 0l2.404 4.87 5.377.783c1.28.186 1.566 1.068.64 1.97l-3.89 3.793.918 5.354c.22 1.274-.532 1.82-1.676 1.218L10 16.33l-4.808 2.528c-1.145.602-1.896.056-1.677-1.218z"/></g></svg>收藏</button><button class="Button ContentItem-action Button--plain" type="button"><svg width="14" height="16" viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--thank Icon--left" style="height:16px;width:14px;" aria-hidden="true"><title></title><g><path d="M0 5.437C0 2.505 2.294.094 5.207 0 7.243 0 9.092 1.19 10 3c.823-1.758 2.65-3 4.65-3C17.546 0 20 2.507 20 5.432 20 13.24 11.842 18 10 18 8.158 18 0 13.24 0 5.437z" fill-rule="evenodd"/></g></svg>感谢</button><button class="Button ContentItem-action ContentItem-rightButton Button--plain" data-zop-retract-question="true" type="button"><span class="RichContent-collapsedText">收起</span><svg viewBox="0 0 10 6" class="Icon ContentItem-arrowIcon is-active Icon--arrow" style="height:16px;width:10px;" width="10" height="16" aria-hidden="true"><title></title><g><path d="M8.716.217L5.002 4 1.285.218C.99-.072.514-.072.22.218c-.294.29-.294.76 0 1.052l4.25 4.512c.292.29.77.29 1.063 0L9.78 1.27c.293-.29.293-.76 0-1.052-.295-.29-.77-.29-1.063 0z"/></g></svg></button></div></div></div></div></div></div></div><div class="Card"><button class="Button QuestionMainAction" type="button">查看更多回答</button></div></div></div></div></div></div></main></div></div><div id="data" style="display:none;" data-state="{&quot;loading&quot;:{&quot;global&quot;:{&quot;count&quot;:0},&quot;local&quot;:{&quot;token/&quot;:false,&quot;env/getExperiments/&quot;:false,&quot;config/getAppConfig/&quot;:false,&quot;question/get/&quot;:false,&quot;question/getAnswers/29926060&quot;:false}},&quot;entities&quot;:{&quot;users&quot;:{},&quot;questions&quot;:{&quot;29926060&quot;:{&quot;status&quot;:{&quot;isLocked&quot;:false,&quot;isClose&quot;:false,&quot;isEvaluate&quot;:false,&quot;isSuggest&quot;:false},&quot;visitCount&quot;:22386,&quot;author&quot;:{&quot;isFollowed&quot;:false,&quot;avatarUrlTemplate&quot;:&quot;https://pic2.zhimg.com/65405b975_{size}.jpg&quot;,&quot;name&quot;:&quot;倪明勇壶&quot;,&quot;headline&quot;:&quot;常年不说话爱好者&quot;,&quot;gender&quot;:1,&quot;userType&quot;:&quot;people&quot;,&quot;urlToken&quot;:&quot;ni-ming-yong-hu-44&quot;,&quot;isAdvertiser&quot;:false,&quot;avatarUrl&quot;:&quot;https://pic2.zhimg.com/65405b975_is.jpg&quot;,&quot;isFollowing&quot;:false,&quot;isOrg&quot;:false,&quot;type&quot;:&quot;people&quot;,&quot;url&quot;:&quot;http://www.zhihu.com/api/v4/people/2d7dd2485b80f3946da8f9f7a8ed5259&quot;,&quot;badge&quot;:[],&quot;id&quot;:&quot;2d7dd2485b80f3946da8f9f7a8ed5259&quot;},&quot;relationship&quot;:{&quot;concernedFollowers&quot;:[],&quot;isAnonymous&quot;:false,&quot;canLock&quot;:false,&quot;isFollowing&quot;:false,&quot;isAuthor&quot;:false,&quot;canCollapseAnswers&quot;:false,&quot;canStickAnswers&quot;:false},&quot;isMuted&quot;:false,&quot;topics&quot;:[{&quot;url&quot;:&quot;http://www.zhihu.com/api/v4/topics/19550228&quot;,&quot;avatarUrl&quot;:&quot;https://pic1.zhimg.com/2e33f063f1bd9221df967219167b5de0_is.jpg&quot;,&quot;name&quot;:&quot;知乎&quot;,&quot;introduction&quot;:&quot;知乎是中文互联网最大的知识社交平台，拥有认真、专业和友善的独特氛围，连接各行各业的精英。用户分享着彼此的专业知识、经验和见解，为中文互联网源源不断地提供高质量的信息。&quot;,&quot;type&quot;:&quot;topic&quot;,&quot;excerpt&quot;:&quot;知乎是中文互联网最大的知识社交平台，拥有认真、专业和友善的独特氛围，连接各行各业的精英。用户分享着彼此的专业知识、经验和见解，为中文互联网源源不断地提供高质量的信息。&quot;,&quot;id&quot;:&quot;19550228&quot;},{&quot;url&quot;:&quot;http://www.zhihu.com/api/v4/topics/19552330&quot;,&quot;avatarUrl&quot;:&quot;https://pic3.zhimg.com/acda162ad89c9b8995b51028d5233d1a_is.jpg&quot;,&quot;name&quot;:&quot;程序员&quot;,&quot;introduction&quot;:&quot;程序员可以指在程序设计与互联网某个专业领域中的专业人士或是从事软件撰写，程序开发、维护的专业人员。&quot;,&quot;type&quot;:&quot;topic&quot;,&quot;excerpt&quot;:&quot;程序员可以指在程序设计与互联网某个专业领域中的专业人士或是从事软件撰写，程序开发、维护的专业人员。&quot;,&quot;id&quot;:&quot;19552330&quot;},{&quot;url&quot;:&quot;http://www.zhihu.com/api/v4/topics/19552910&quot;,&quot;avatarUrl&quot;:&quot;https://pic1.zhimg.com/1d4e54f28_is.jpg&quot;,&quot;name&quot;:&quot;PHP&quot;,&quot;introduction&quot;:&quot;PHP 是英文超级文本预处理语言（PHP：Hypertext Preprocessor）的缩写。PHP 是一种 HTML 内嵌式的语言，是一种在服务器端执行的嵌入 HTML 文档的脚本语言，语言的风格有类似于 C 语言，被广泛的运用。PHP 具有非常强大的功能，所有的 CGI 的功能 PHP 都能实现，而且支持几乎所有流行的数据库以及操作系统。&quot;,&quot;type&quot;:&quot;topic&quot;,&quot;excerpt&quot;:&quot;PHP 是英文超级文本预处理语言（PHP：Hypertext Preprocessor）的缩写。PHP 是一种 HTML 内嵌式的语言，是一种在服务器端执行的嵌入 HTML 文档的脚本语言，语言的风格有类似于 C 语言，被广泛的运用。PHP 具有非常强大的功能，所有的 CGI 的功能 PHP 都能实现，而且支持几乎所有流行的数据库以及操作系统。&quot;,&quot;id&quot;:&quot;19552910&quot;},{&quot;url&quot;:&quot;http://www.zhihu.com/api/v4/topics/19577498&quot;,&quot;avatarUrl&quot;:&quot;https://pic1.zhimg.com/e2e855cfc_is.jpg&quot;,&quot;name&quot;:&quot;爬虫 (计算机网络)&quot;,&quot;introduction&quot;:&quot;&quot;,&quot;type&quot;:&quot;topic&quot;,&quot;excerpt&quot;:&quot;&quot;,&quot;id&quot;:&quot;19577498&quot;},{&quot;url&quot;:&quot;http://www.zhihu.com/api/v4/topics/19794679&quot;,&quot;avatarUrl&quot;:&quot;https://pic1.zhimg.com/e82bab09c_is.jpg&quot;,&quot;name&quot;:&quot;网页爬虫&quot;,&quot;introduction&quot;:&quot;用爬虫来抓取网页数据&quot;,&quot;type&quot;:&quot;topic&quot;,&quot;excerpt&quot;:&quot;用爬虫来抓取网页数据&quot;,&quot;id&quot;:&quot;19794679&quot;}],&quot;excerpt&quot;:&quot;我想抓取知乎上用户的关注信息，如查看A关注了哪些人，通过&lt;a href=\&quot;http://www.zhihu.com/people/pansz/followees\&quot; class=\&quot;internal\&quot;&gt;www.zhihu.com/people/XXX/followees&lt;/a&gt;这个页面来获得followee的列表，但是在抓取中遇到了403问题。 1.爬虫仅仅是为了搜集用户关注信息，用于学术研究，绝非商业或其他目的 2.使用PHP，利用curl构造请求，使用simple_html_dom来解析文档 3.在用户的关注者（Followees）列表，应该是使用Ajax进行动态加载更多的followees，于是我想直接爬接口的数据，通过firebug查看到，加…&quot;,&quot;adminClosedComment&quot;:false,&quot;except&quot;:&quot;我想抓取知乎上用户的关注信息，如查看A关注了哪些人，通过&lt;a href=\&quot;http://www.zhihu.com/people/pansz/followees\&quot; class=\&quot;internal\&quot;&gt;www.zhihu.com/people/XXX/followees&lt;/a&gt;这个页面来获得followee的列表，但是在抓取中遇到了403问题。 1.爬虫仅仅是为了搜集用户关注信息，用于学术研究，绝非商业或其他目的 2.使用PHP，利用curl构造请求，使用simple_html_dom来解析文档 3.在用户的关注者（Followees）列表，应该是使用Ajax进行动态加载更多的followees，于是我想直接爬接口的数据，通过firebug查看到，加…&quot;,&quot;isEditable&quot;:false,&quot;answerCount&quot;:16,&quot;editableDetail&quot;:&quot;我想抓取知乎上用户的关注信息，如查看A关注了哪些人，通过&lt;a href=\&quot;http://www.zhihu.com/people/pansz/followees\&quot; data-editable=\&quot;true\&quot; data-title=\&quot;www.zhihu.com/people/XXX/followees\&quot; class=\&quot;\&quot;&gt;www.zhihu.com/people/XXX/followees&lt;/a&gt;这个页面来获得followee的列表，但是在抓取中遇到了403问题。&lt;br&gt;1.爬虫仅仅是为了搜集用户关注信息，用于学术研究，绝非商业或其他目的&lt;br&gt;2.使用PHP，利用curl构造请求，使用simple_html_dom来解析文档&lt;br&gt;3.在用户的关注者（Followees）列表，应该是使用Ajax进行动态加载更多的followees，于是我想直接爬接口的数据，通过firebug查看到，加载更多的关注者似乎是通过&lt;a href=\&quot;http://www.zhihu.com/node/ProfileFolloweesListV2\&quot; data-editable=\&quot;true\&quot; data-title=\&quot;zhihu.com 的页面\&quot; class=\&quot;\&quot;&gt;http://www.zhihu.com/node/ProfileFolloweesListV2&lt;/a&gt; 进行的，并且post的数据有_xsrf,method,parmas，于是我在模拟保持登录的情况下，对这个链接提交请求，并带有post过去的所需要的参数，但是返回的是403。&lt;br&gt;4.但是我同样模拟登录的情况下，可以解析到如赞同数、感谢数这些不需要Ajax的数据&lt;br&gt;5.我使用curl_setopt($ch, CURLOPT_HTTPHEADER, $header );来设置请求头，使其与我在浏览器中提交的请求的请求头一致，但是这样任然导致403错误&lt;br&gt;6.我尝试打印出curl的请求头与浏览器发出的请求头进行比较，但是没有找到正确的方式（百度出的curl_getinfo()似乎打印出的相应报文）&lt;br&gt;7.有许多人曾因为没有设置User-Agent或者X-Requested-With遭遇403，但是我在5中描述设置请求头时都设置了&lt;br&gt;8.如果叙述不详需要贴出代码，我可以贴出代码&lt;br&gt;9.这个爬虫是我毕设的一部分，需要获取数据来进行接下来的工作，如1所说，爬取数据纯粹是为了学术研究&quot;,&quot;id&quot;:29926060,&quot;collapsedAnswerCount&quot;:0,&quot;title&quot;:&quot;对知乎内容使用爬虫爬取数据，为什么会遇到403问题？&quot;,&quot;url&quot;:&quot;http://www.zhihu.com/api/v4/questions/29926060&quot;,&quot;commentPermission&quot;:&quot;all&quot;,&quot;created&quot;:1430144558,&quot;detail&quot;:&quot;我想抓取知乎上用户的关注信息，如查看A关注了哪些人，通过&lt;a href=\&quot;http://www.zhihu.com/people/pansz/followees\&quot; class=\&quot;internal\&quot;&gt;www.zhihu.com/people/XXX/followees&lt;/a&gt;这个页面来获得followee的列表，但是在抓取中遇到了403问题。&lt;br&gt;1.爬虫仅仅是为了搜集用户关注信息，用于学术研究，绝非商业或其他目的&lt;br&gt;2.使用PHP，利用curl构造请求，使用simple_html_dom来解析文档&lt;br&gt;3.在用户的关注者（Followees）列表，应该是使用Ajax进行动态加载更多的followees，于是我想直接爬接口的数据，通过firebug查看到，加载更多的关注者似乎是通过&lt;a href=\&quot;http://www.zhihu.com/node/ProfileFolloweesListV2\&quot; class=\&quot;internal\&quot;&gt;&lt;span class=\&quot;invisible\&quot;&gt;http://www.&lt;/span&gt;&lt;span class=\&quot;visible\&quot;&gt;zhihu.com/node/ProfileF&lt;/span&gt;&lt;span class=\&quot;invisible\&quot;&gt;olloweesListV2&lt;/span&gt;&lt;span class=\&quot;ellipsis\&quot;&gt;&lt;/span&gt;&lt;/a&gt; 进行的，并且post的数据有_xsrf,method,parmas，于是我在模拟保持登录的情况下，对这个链接提交请求，并带有post过去的所需要的参数，但是返回的是403。&lt;br&gt;4.但是我同样模拟登录的情况下，可以解析到如赞同数、感谢数这些不需要Ajax的数据&lt;br&gt;5.我使用curl_setopt($ch, CURLOPT_HTTPHEADER, $header );来设置请求头，使其与我在浏览器中提交的请求的请求头一致，但是这样任然导致403错误&lt;br&gt;6.我尝试打印出curl的请求头与浏览器发出的请求头进行比较，但是没有找到正确的方式（百度出的curl_getinfo()似乎打印出的相应报文）&lt;br&gt;7.有许多人曾因为没有设置User-Agent或者X-Requested-With遭遇403，但是我在5中描述设置请求头时都设置了&lt;br&gt;8.如果叙述不详需要贴出代码，我可以贴出代码&lt;br&gt;9.这个爬虫是我毕设的一部分，需要获取数据来进行接下来的工作，如1所说，爬取数据纯粹是为了学术研究&quot;,&quot;updatedTime&quot;:1430144558,&quot;isReportable&quot;:true,&quot;hasPublishingDraft&quot;:false,&quot;commentCount&quot;:1,&quot;allowDelete&quot;:false,&quot;questionType&quot;:&quot;normal&quot;,&quot;followerCount&quot;:219,&quot;canComment&quot;:{&quot;status&quot;:true,&quot;reason&quot;:&quot;&quot;},&quot;type&quot;:&quot;question&quot;,&quot;suggestEdit&quot;:{&quot;status&quot;:false,&quot;reason&quot;:&quot;&quot;},&quot;isNormal&quot;:true}},&quot;answers&quot;:{&quot;46174116&quot;:{&quot;stickyInfo&quot;:&quot;&quot;,&quot;relationship&quot;:{&quot;upvotedFollowees&quot;:[],&quot;isAuthor&quot;:false,&quot;isNothelp&quot;:false,&quot;isAuthorized&quot;:false,&quot;voting&quot;:0,&quot;isThanked&quot;:false},&quot;editableContent&quot;:&quot;&quot;,&quot;markInfos&quot;:[],&quot;excerpt&quot;:&quot;无非就是那些， ｕｓｅｒａｇｅｎｔ，ｒｅｆｅｒｅｒ，ｔｏｋｅｎ，ｃｏｏｋｉｅ&quot;,&quot;annotationAction&quot;:[],&quot;adminClosedComment&quot;:false,&quot;collapsedBy&quot;:&quot;nobody&quot;,&quot;canComment&quot;:{&quot;status&quot;:true,&quot;reason&quot;:&quot;&quot;},&quot;createdTime&quot;:1430223472,&quot;updatedTime&quot;:1430223472,&quot;id&quot;:46174116,&quot;voteupCount&quot;:1,&quot;collapseReason&quot;:&quot;&quot;,&quot;isCollapsed&quot;:false,&quot;author&quot;:{&quot;isFollowed&quot;:false,&quot;avatarUrlTemplate&quot;:&quot;https://pic2.zhimg.com/450444ec03e3d5abc21e7d9bd9518139_{size}.jpg&quot;,&quot;userType&quot;:&quot;people&quot;,&quot;isFollowing&quot;:false,&quot;type&quot;:&quot;people&quot;,&quot;urlToken&quot;:&quot;shuaizhu&quot;,&quot;id&quot;:&quot;5695e997c4194b32bb1e92c63166ed52&quot;,&quot;name&quot;:&quot;飞雪连天&quot;,&quot;isAdvertiser&quot;:false,&quot;headline&quot;:&quot;超级程序员&quot;,&quot;gender&quot;:1,&quot;url&quot;:&quot;http://www.zhihu.com/api/v4/people/5695e997c4194b32bb1e92c63166ed52&quot;,&quot;avatarUrl&quot;:&quot;https://pic2.zhimg.com/450444ec03e3d5abc21e7d9bd9518139_is.jpg&quot;,&quot;isOrg&quot;:false,&quot;followerCount&quot;:131,&quot;badge&quot;:[]},&quot;url&quot;:&quot;http://www.zhihu.com/api/v4/answers/46174116&quot;,&quot;commentPermission&quot;:&quot;all&quot;,&quot;isSticky&quot;:false,&quot;question&quot;:{&quot;author&quot;:{&quot;isFollowed&quot;:false,&quot;avatarUrlTemplate&quot;:&quot;https://pic2.zhimg.com/65405b975_{size}.jpg&quot;,&quot;badge&quot;:[],&quot;name&quot;:&quot;倪明勇壶&quot;,&quot;isAdvertiser&quot;:false,&quot;headline&quot;:&quot;常年不说话爱好者&quot;,&quot;gender&quot;:1,&quot;userType&quot;:&quot;people&quot;,&quot;url&quot;:&quot;http://www.zhihu.com/api/v4/people/2d7dd2485b80f3946da8f9f7a8ed5259&quot;,&quot;avatarUrl&quot;:&quot;https://pic2.zhimg.com/65405b975_is.jpg&quot;,&quot;isFollowing&quot;:false,&quot;isOrg&quot;:false,&quot;type&quot;:&quot;people&quot;,&quot;urlToken&quot;:&quot;ni-ming-yong-hu-44&quot;,&quot;id&quot;:&quot;2d7dd2485b80f3946da8f9f7a8ed5259&quot;},&quot;url&quot;:&quot;http://www.zhihu.com/api/v4/questions/29926060&quot;,&quot;created&quot;:1430144558,&quot;updatedTime&quot;:1430144558,&quot;questionType&quot;:&quot;normal&quot;,&quot;title&quot;:&quot;对知乎内容使用爬虫爬取数据，为什么会遇到403问题？&quot;,&quot;type&quot;:&quot;question&quot;,&quot;id&quot;:29926060},&quot;suggestEdit&quot;:{&quot;status&quot;:false,&quot;reason&quot;:&quot;&quot;,&quot;title&quot;:&quot;&quot;,&quot;url&quot;:&quot;&quot;,&quot;unnormalDetails&quot;:{},&quot;tip&quot;:&quot;&quot;},&quot;content&quot;:&quot;无非就是那些，　ｕｓｅｒａｇｅｎｔ，ｒｅｆｅｒｅｒ，ｔｏｋｅｎ，ｃｏｏｋｉｅ&quot;,&quot;commentCount&quot;:2,&quot;extras&quot;:&quot;&quot;,&quot;reshipmentSettings&quot;:&quot;allowed&quot;,&quot;thanksCount&quot;:0,&quot;rewardInfo&quot;:{&quot;rewardMemberCount&quot;:0,&quot;tagline&quot;:&quot;&quot;,&quot;rewardTotalMoney&quot;:0,&quot;canOpenReward&quot;:false,&quot;isRewardable&quot;:false},&quot;isCopyable&quot;:true,&quot;type&quot;:&quot;answer&quot;,&quot;thumbnail&quot;:&quot;&quot;,&quot;isNormal&quot;:true},&quot;46420213&quot;:{&quot;stickyInfo&quot;:&quot;&quot;,&quot;relationship&quot;:{&quot;upvotedFollowees&quot;:[],&quot;isAuthor&quot;:false,&quot;isNothelp&quot;:false,&quot;isAuthorized&quot;:false,&quot;voting&quot;:0,&quot;isThanked&quot;:false},&quot;editableContent&quot;:&quot;&quot;,&quot;markInfos&quot;:[],&quot;excerpt&quot;:&quot;你先找个浏览器，研究一下request的HTTP Header再来抓&quot;,&quot;annotationAction&quot;:[],&quot;adminClosedComment&quot;:false,&quot;collapsedBy&quot;:&quot;nobody&quot;,&quot;canComment&quot;:{&quot;status&quot;:true,&quot;reason&quot;:&quot;&quot;},&quot;createdTime&quot;:1430446821,&quot;updatedTime&quot;:1430446821,&quot;id&quot;:46420213,&quot;voteupCount&quot;:0,&quot;collapseReason&quot;:&quot;&quot;,&quot;isCollapsed&quot;:false,&quot;author&quot;:{&quot;isFollowed&quot;:false,&quot;avatarUrlTemplate&quot;:&quot;https://pic2.zhimg.com/aadd7b895_{size}.jpg&quot;,&quot;userType&quot;:&quot;people&quot;,&quot;isFollowing&quot;:false,&quot;type&quot;:&quot;people&quot;,&quot;urlToken&quot;:&quot;&quot;,&quot;id&quot;:&quot;0&quot;,&quot;name&quot;:&quot;匿名用户&quot;,&quot;isAdvertiser&quot;:false,&quot;headline&quot;:&quot;&quot;,&quot;gender&quot;:1,&quot;url&quot;:&quot;http://www.zhihu.com/api/v4/people/0&quot;,&quot;avatarUrl&quot;:&quot;https://pic2.zhimg.com/aadd7b895_is.jpg&quot;,&quot;isOrg&quot;:false,&quot;followerCount&quot;:0,&quot;badge&quot;:[]},&quot;url&quot;:&quot;http://www.zhihu.com/api/v4/answers/46420213&quot;,&quot;commentPermission&quot;:&quot;all&quot;,&quot;isSticky&quot;:false,&quot;question&quot;:{&quot;author&quot;:{&quot;isFollowed&quot;:false,&quot;avatarUrlTemplate&quot;:&quot;https://pic2.zhimg.com/65405b975_{size}.jpg&quot;,&quot;badge&quot;:[],&quot;name&quot;:&quot;倪明勇壶&quot;,&quot;isAdvertiser&quot;:false,&quot;headline&quot;:&quot;常年不说话爱好者&quot;,&quot;gender&quot;:1,&quot;userType&quot;:&quot;people&quot;,&quot;url&quot;:&quot;http://www.zhihu.com/api/v4/people/2d7dd2485b80f3946da8f9f7a8ed5259&quot;,&quot;avatarUrl&quot;:&quot;https://pic2.zhimg.com/65405b975_is.jpg&quot;,&quot;isFollowing&quot;:false,&quot;isOrg&quot;:false,&quot;type&quot;:&quot;people&quot;,&quot;urlToken&quot;:&quot;ni-ming-yong-hu-44&quot;,&quot;id&quot;:&quot;2d7dd2485b80f3946da8f9f7a8ed5259&quot;},&quot;url&quot;:&quot;http://www.zhihu.com/api/v4/questions/29926060&quot;,&quot;created&quot;:1430144558,&quot;updatedTime&quot;:1430144558,&quot;questionType&quot;:&quot;normal&quot;,&quot;title&quot;:&quot;对知乎内容使用爬虫爬取数据，为什么会遇到403问题？&quot;,&quot;type&quot;:&quot;question&quot;,&quot;id&quot;:29926060},&quot;suggestEdit&quot;:{&quot;status&quot;:false,&quot;reason&quot;:&quot;&quot;,&quot;title&quot;:&quot;&quot;,&quot;url&quot;:&quot;&quot;,&quot;unnormalDetails&quot;:{},&quot;tip&quot;:&quot;&quot;},&quot;content&quot;:&quot;你先找个浏览器，研究一下request的HTTP Header再来抓&quot;,&quot;commentCount&quot;:0,&quot;extras&quot;:&quot;&quot;,&quot;reshipmentSettings&quot;:&quot;allowed&quot;,&quot;thanksCount&quot;:0,&quot;rewardInfo&quot;:{&quot;rewardMemberCount&quot;:0,&quot;tagline&quot;:&quot;&quot;,&quot;rewardTotalMoney&quot;:0,&quot;canOpenReward&quot;:false,&quot;isRewardable&quot;:false},&quot;isCopyable&quot;:true,&quot;type&quot;:&quot;answer&quot;,&quot;thumbnail&quot;:&quot;&quot;,&quot;isNormal&quot;:true},&quot;117276271&quot;:{&quot;stickyInfo&quot;:&quot;&quot;,&quot;relationship&quot;:{&quot;upvotedFollowees&quot;:[],&quot;isAuthor&quot;:false,&quot;isNothelp&quot;:false,&quot;isAuthorized&quot;:false,&quot;voting&quot;:0,&quot;isThanked&quot;:false},&quot;editableContent&quot;:&quot;&quot;,&quot;markInfos&quot;:[],&quot;excerpt&quot;:&quot;这两天刚好做了一个抓取用户的关注着和追随者的的爬虫在抓数据，使用的是Python。这里给你一段python的代码，你可以对着代码看一下你的代码问题。 403应该就是请求的时候一些数据发错了，下面的代码中涉及到一个打开的文本，文本中的内容是用户的id，文本里…&quot;,&quot;annotationAction&quot;:[],&quot;adminClosedComment&quot;:false,&quot;collapsedBy&quot;:&quot;nobody&quot;,&quot;canComment&quot;:{&quot;status&quot;:true,&quot;reason&quot;:&quot;&quot;},&quot;createdTime&quot;:1471391995,&quot;updatedTime&quot;:1471391995,&quot;id&quot;:117276271,&quot;voteupCount&quot;:45,&quot;collapseReason&quot;:&quot;&quot;,&quot;isCollapsed&quot;:false,&quot;author&quot;:{&quot;isFollowed&quot;:false,&quot;avatarUrlTemplate&quot;:&quot;https://pic3.zhimg.com/958a18f3216805bed269d158fb83325a_{size}.jpg&quot;,&quot;userType&quot;:&quot;people&quot;,&quot;isFollowing&quot;:false,&quot;type&quot;:&quot;people&quot;,&quot;urlToken&quot;:&quot;sgai&quot;,&quot;id&quot;:&quot;eaf435b228ce0b038a4afe8203f59b49&quot;,&quot;name&quot;:&quot;路人甲&quot;,&quot;isAdvertiser&quot;:false,&quot;headline&quot;:&quot;喜欢用数据讲故事。&quot;,&quot;gender&quot;:1,&quot;url&quot;:&quot;http://www.zhihu.com/api/v4/people/eaf435b228ce0b038a4afe8203f59b49&quot;,&quot;avatarUrl&quot;:&quot;https://pic3.zhimg.com/958a18f3216805bed269d158fb83325a_is.jpg&quot;,&quot;isOrg&quot;:false,&quot;followerCount&quot;:171352,&quot;badge&quot;:[]},&quot;url&quot;:&quot;http://www.zhihu.com/api/v4/answers/117276271&quot;,&quot;commentPermission&quot;:&quot;all&quot;,&quot;isSticky&quot;:false,&quot;question&quot;:{&quot;author&quot;:{&quot;isFollowed&quot;:false,&quot;avatarUrlTemplate&quot;:&quot;https://pic2.zhimg.com/65405b975_{size}.jpg&quot;,&quot;badge&quot;:[],&quot;name&quot;:&quot;倪明勇壶&quot;,&quot;isAdvertiser&quot;:false,&quot;headline&quot;:&quot;常年不说话爱好者&quot;,&quot;gender&quot;:1,&quot;userType&quot;:&quot;people&quot;,&quot;url&quot;:&quot;http://www.zhihu.com/api/v4/people/2d7dd2485b80f3946da8f9f7a8ed5259&quot;,&quot;avatarUrl&quot;:&quot;https://pic2.zhimg.com/65405b975_is.jpg&quot;,&quot;isFollowing&quot;:false,&quot;isOrg&quot;:false,&quot;type&quot;:&quot;people&quot;,&quot;urlToken&quot;:&quot;ni-ming-yong-hu-44&quot;,&quot;id&quot;:&quot;2d7dd2485b80f3946da8f9f7a8ed5259&quot;},&quot;url&quot;:&quot;http://www.zhihu.com/api/v4/questions/29926060&quot;,&quot;created&quot;:1430144558,&quot;updatedTime&quot;:1430144558,&quot;questionType&quot;:&quot;normal&quot;,&quot;title&quot;:&quot;对知乎内容使用爬虫爬取数据，为什么会遇到403问题？&quot;,&quot;type&quot;:&quot;question&quot;,&quot;id&quot;:29926060},&quot;suggestEdit&quot;:{&quot;status&quot;:false,&quot;reason&quot;:&quot;&quot;,&quot;title&quot;:&quot;&quot;,&quot;url&quot;:&quot;&quot;,&quot;unnormalDetails&quot;:{},&quot;tip&quot;:&quot;&quot;},&quot;content&quot;:&quot;这两天刚好做了一个抓取用户的关注着和追随者的的爬虫在抓数据，使用的是Python。这里给你一段python的代码，你可以对着代码看一下你的代码问题。&lt;br&gt;403应该就是请求的时候一些数据发错了，下面的代码中涉及到一个打开的文本，文本中的内容是用户的id，文本里面的内容样式我截了图放在最后面。&lt;br&gt;&lt;div class=\&quot;highlight\&quot;&gt;&lt;pre&gt;&lt;code class=\&quot;language-python3\&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=\&quot;c1\&quot;&gt;#encoding=utf8&lt;/span&gt;\n&lt;span class=\&quot;kn\&quot;&gt;import&lt;/span&gt; &lt;span class=\&quot;nn\&quot;&gt;urllib2&lt;/span&gt;\n&lt;span class=\&quot;kn\&quot;&gt;import&lt;/span&gt; &lt;span class=\&quot;nn\&quot;&gt;json&lt;/span&gt;\n&lt;span class=\&quot;kn\&quot;&gt;import&lt;/span&gt; &lt;span class=\&quot;nn\&quot;&gt;requests&lt;/span&gt;\n&lt;span class=\&quot;kn\&quot;&gt;from&lt;/span&gt; &lt;span class=\&quot;nn\&quot;&gt;bs4&lt;/span&gt; &lt;span class=\&quot;k\&quot;&gt;import&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;BeautifulSoup&lt;/span&gt;\n\n&lt;span class=\&quot;n\&quot;&gt;Default_Header&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;p\&quot;&gt;{&lt;/span&gt;&lt;span class=\&quot;s1\&quot;&gt;&#x27;X-Requested-With&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;:&lt;/span&gt; &lt;span class=\&quot;s1\&quot;&gt;&#x27;XMLHttpRequest&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;,&lt;/span&gt;\n                  &lt;span class=\&quot;s1\&quot;&gt;&#x27;Referer&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;:&lt;/span&gt; &lt;span class=\&quot;s1\&quot;&gt;&#x27;http://www.zhihu.com&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;,&lt;/span&gt;\n                  &lt;span class=\&quot;s1\&quot;&gt;&#x27;User-Agent&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;:&lt;/span&gt; &lt;span class=\&quot;s1\&quot;&gt;&#x27;Mozilla/5.0 (X11; Ubuntu; Linux x86_64; &#x27;&lt;/span&gt;\n                                &lt;span class=\&quot;s1\&quot;&gt;&#x27;rv:39.0) Gecko/20100101 Firefox/39.0&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;,&lt;/span&gt;\n                  &lt;span class=\&quot;s1\&quot;&gt;&#x27;Host&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;:&lt;/span&gt; &lt;span class=\&quot;s1\&quot;&gt;&#x27;www.zhihu.com&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;}&lt;/span&gt;\n&lt;span class=\&quot;n\&quot;&gt;_session&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;requests&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;session&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;()&lt;/span&gt;\n&lt;span class=\&quot;n\&quot;&gt;_session&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;headers&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;update&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;Default_Header&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;)&lt;/span&gt; \n&lt;span class=\&quot;n\&quot;&gt;resourceFile&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;nb\&quot;&gt;open&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;s1\&quot;&gt;&#x27;/root/Desktop/UserId.text&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;,&lt;/span&gt;&lt;span class=\&quot;s1\&quot;&gt;&#x27;r&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;)&lt;/span&gt;\n&lt;span class=\&quot;n\&quot;&gt;resourceLines&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;resourceFile&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;readlines&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;()&lt;/span&gt;\n&lt;span class=\&quot;n\&quot;&gt;resultFollowerFile&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;nb\&quot;&gt;open&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;s1\&quot;&gt;&#x27;/root/Desktop/userIdFollowees.text&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;,&lt;/span&gt;&lt;span class=\&quot;s1\&quot;&gt;&#x27;a+&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;)&lt;/span&gt;\n&lt;span class=\&quot;n\&quot;&gt;resultFolloweeFile&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;nb\&quot;&gt;open&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;s1\&quot;&gt;&#x27;/root/Desktop/userIdFollowers.text&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;,&lt;/span&gt;&lt;span class=\&quot;s1\&quot;&gt;&#x27;a+&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=\&quot;n\&quot;&gt;BASE_URL&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;s1\&quot;&gt;&#x27;https://www.zhihu.com/&#x27;&lt;/span&gt;\n&lt;span class=\&quot;n\&quot;&gt;CAPTURE_URL&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;BASE_URL&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;+&lt;/span&gt;&lt;span class=\&quot;s1\&quot;&gt;&#x27;captcha.gif?r=1466595391805&amp;amp;type=login&#x27;&lt;/span&gt;\n&lt;span class=\&quot;n\&quot;&gt;PHONE_LOGIN&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;BASE_URL&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;+&lt;/span&gt; &lt;span class=\&quot;s1\&quot;&gt;&#x27;login/phone_num&#x27;&lt;/span&gt;\n\n&lt;span class=\&quot;k\&quot;&gt;def&lt;/span&gt; &lt;span class=\&quot;nf\&quot;&gt;login&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;():&lt;/span&gt;\n    &lt;span class=\&quot;sd\&quot;&gt;&#x27;&#x27;&#x27;登录知乎&#x27;&#x27;&#x27;&lt;/span&gt;\n    &lt;span class=\&quot;n\&quot;&gt;username&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;s1\&quot;&gt;&#x27;&#x27;&lt;/span&gt;&lt;span class=\&quot;c1\&quot;&gt;#用户名&lt;/span&gt;\n    &lt;span class=\&quot;n\&quot;&gt;password&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;s1\&quot;&gt;&#x27;&#x27;&lt;/span&gt;&lt;span class=\&quot;c1\&quot;&gt;#密码，注意我这里用的是手机号登录，用邮箱登录需要改一下下面登录地址&lt;/span&gt;\n    &lt;span class=\&quot;n\&quot;&gt;cap_content&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;urllib2&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;urlopen&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;CAPTURE_URL&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;)&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;read&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;()&lt;/span&gt;\n    &lt;span class=\&quot;n\&quot;&gt;cap_file&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;nb\&quot;&gt;open&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;s1\&quot;&gt;&#x27;/root/Desktop/cap.gif&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;,&lt;/span&gt;&lt;span class=\&quot;s1\&quot;&gt;&#x27;wb&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;)&lt;/span&gt;\n    &lt;span class=\&quot;n\&quot;&gt;cap_file&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;write&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;cap_content&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;)&lt;/span&gt;\n    &lt;span class=\&quot;n\&quot;&gt;cap_file&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;close&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;()&lt;/span&gt;\n    &lt;span class=\&quot;n\&quot;&gt;captcha&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;raw_input&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;s1\&quot;&gt;&#x27;capture:&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;)&lt;/span&gt;\n    &lt;span class=\&quot;n\&quot;&gt;data&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;p\&quot;&gt;{&lt;/span&gt;&lt;span class=\&quot;s2\&quot;&gt;\&quot;phone_num\&quot;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;:&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;username&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;,&lt;/span&gt;&lt;span class=\&quot;s2\&quot;&gt;\&quot;password\&quot;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;:&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;password&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;,&lt;/span&gt;&lt;span class=\&quot;s2\&quot;&gt;\&quot;captcha\&quot;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;:&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;captcha&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;}&lt;/span&gt;\n    &lt;span class=\&quot;n\&quot;&gt;r&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;_session&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;post&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;PHONE_LOGIN&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;,&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;data&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;)&lt;/span&gt;\n    &lt;span class=\&quot;nb\&quot;&gt;print&lt;/span&gt; &lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;r&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;json&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;())[&lt;/span&gt;&lt;span class=\&quot;s1\&quot;&gt;&#x27;msg&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;]&lt;/span&gt;\n    \n&lt;span class=\&quot;k\&quot;&gt;def&lt;/span&gt; &lt;span class=\&quot;nf\&quot;&gt;readFollowerNumbers&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;followerId&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;,&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;followType&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;):&lt;/span&gt;\n    &lt;span class=\&quot;sd\&quot;&gt;&#x27;&#x27;&#x27;读取每一位用户的关注者和追随者，根据type进行判断&#x27;&#x27;&#x27;&lt;/span&gt;\n    &lt;span class=\&quot;nb\&quot;&gt;print&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;followerId&lt;/span&gt;\n    &lt;span class=\&quot;n\&quot;&gt;personUrl&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;s1\&quot;&gt;&#x27;https://www.zhihu.com/people/&#x27;&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;+&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;followerId&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;strip&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;s1\&quot;&gt;&#x27;&lt;/span&gt;&lt;span class=\&quot;se\&quot;&gt;\\n&lt;/span&gt;&lt;span class=\&quot;s1\&quot;&gt;&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;)&lt;/span&gt;\n    &lt;span class=\&quot;n\&quot;&gt;xsrf&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;getXsrf&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;()&lt;/span&gt;\n    &lt;span class=\&quot;n\&quot;&gt;hash_id&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;getHashId&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;personUrl&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;)&lt;/span&gt;\n    &lt;span class=\&quot;n\&quot;&gt;headers&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;nb\&quot;&gt;dict&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;Default_Header&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;)&lt;/span&gt;\n    &lt;span class=\&quot;n\&quot;&gt;headers&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;[&lt;/span&gt;&lt;span class=\&quot;s1\&quot;&gt;&#x27;Referer&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;]&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;personUrl&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;+&lt;/span&gt; &lt;span class=\&quot;s1\&quot;&gt;&#x27;/follow&#x27;&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;+&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;followType&lt;/span&gt;\n    &lt;span class=\&quot;n\&quot;&gt;followerUrl&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;s1\&quot;&gt;&#x27;https://www.zhihu.com/node/ProfileFollow&#x27;&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;+&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;followType&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;+&lt;/span&gt;&lt;span class=\&quot;s1\&quot;&gt;&#x27;ListV2&#x27;&lt;/span&gt;\n    &lt;span class=\&quot;n\&quot;&gt;params&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;p\&quot;&gt;{&lt;/span&gt;&lt;span class=\&quot;s2\&quot;&gt;\&quot;offset\&quot;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;:&lt;/span&gt;&lt;span class=\&quot;mi\&quot;&gt;0&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;,&lt;/span&gt;&lt;span class=\&quot;s2\&quot;&gt;\&quot;order_by\&quot;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;:&lt;/span&gt;&lt;span class=\&quot;s2\&quot;&gt;\&quot;created\&quot;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;,&lt;/span&gt;&lt;span class=\&quot;s2\&quot;&gt;\&quot;hash_id\&quot;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;:&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;hash_id&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;}&lt;/span&gt;\n    &lt;span class=\&quot;n\&quot;&gt;params_encode&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;json&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;dumps&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;params&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;)&lt;/span&gt;\n    &lt;span class=\&quot;n\&quot;&gt;data&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;p\&quot;&gt;{&lt;/span&gt;&lt;span class=\&quot;s2\&quot;&gt;\&quot;method\&quot;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;:&lt;/span&gt;&lt;span class=\&quot;s2\&quot;&gt;\&quot;next\&quot;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;,&lt;/span&gt;&lt;span class=\&quot;s2\&quot;&gt;\&quot;params\&quot;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;:&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;params_encode&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;,&lt;/span&gt;&lt;span class=\&quot;s1\&quot;&gt;&#x27;_xsrf&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;:&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;xsrf&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;}&lt;/span&gt;\n    \n    &lt;span class=\&quot;n\&quot;&gt;signIndex&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;mi\&quot;&gt;20&lt;/span&gt;\n    &lt;span class=\&quot;n\&quot;&gt;offset&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;mi\&quot;&gt;0&lt;/span&gt;\n    &lt;span class=\&quot;k\&quot;&gt;while&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;signIndex&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;==&lt;/span&gt; &lt;span class=\&quot;mi\&quot;&gt;20&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;:&lt;/span&gt;\n        &lt;span class=\&quot;n\&quot;&gt;params&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;[&lt;/span&gt;&lt;span class=\&quot;s1\&quot;&gt;&#x27;offset&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;]&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;offset&lt;/span&gt;\n        &lt;span class=\&quot;n\&quot;&gt;data&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;[&lt;/span&gt;&lt;span class=\&quot;s1\&quot;&gt;&#x27;params&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;]&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;json&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;dumps&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;params&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;)&lt;/span&gt;\n        &lt;span class=\&quot;n\&quot;&gt;followerUrlJSON&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;_session&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;post&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;followerUrl&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;,&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;data&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;data&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;,&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;headers&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;headers&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;)&lt;/span&gt;\n        &lt;span class=\&quot;n\&quot;&gt;signIndex&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;nb\&quot;&gt;len&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;((&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;followerUrlJSON&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;json&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;())[&lt;/span&gt;&lt;span class=\&quot;s1\&quot;&gt;&#x27;msg&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;])&lt;/span&gt;\n        &lt;span class=\&quot;n\&quot;&gt;offset&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;offset&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;+&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;signIndex&lt;/span&gt;\n        &lt;span class=\&quot;n\&quot;&gt;followerHtml&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt;  &lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;followerUrlJSON&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;json&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;())[&lt;/span&gt;&lt;span class=\&quot;s1\&quot;&gt;&#x27;msg&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;]&lt;/span&gt;\n        &lt;span class=\&quot;k\&quot;&gt;for&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;everHtml&lt;/span&gt; &lt;span class=\&quot;ow\&quot;&gt;in&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;followerHtml&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;:&lt;/span&gt;\n            &lt;span class=\&quot;n\&quot;&gt;everHtmlSoup&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;BeautifulSoup&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;everHtml&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;)&lt;/span&gt;\n            &lt;span class=\&quot;n\&quot;&gt;personId&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt;  &lt;span class=\&quot;n\&quot;&gt;everHtmlSoup&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;a&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;[&lt;/span&gt;&lt;span class=\&quot;s1\&quot;&gt;&#x27;href&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;]&lt;/span&gt;\n            &lt;span class=\&quot;n\&quot;&gt;resultFollowerFile&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;write&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;personId&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;+&lt;/span&gt;&lt;span class=\&quot;s1\&quot;&gt;&#x27;&lt;/span&gt;&lt;span class=\&quot;se\&quot;&gt;\\n&lt;/span&gt;&lt;span class=\&quot;s1\&quot;&gt;&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;)&lt;/span&gt;\n            &lt;span class=\&quot;nb\&quot;&gt;print&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;personId&lt;/span&gt;\n            \n    \n&lt;span class=\&quot;k\&quot;&gt;def&lt;/span&gt; &lt;span class=\&quot;nf\&quot;&gt;getXsrf&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;():&lt;/span&gt;\n    &lt;span class=\&quot;sd\&quot;&gt;&#x27;&#x27;&#x27;获取用户的xsrf这个是当前用户的&#x27;&#x27;&#x27;&lt;/span&gt;\n    &lt;span class=\&quot;n\&quot;&gt;soup&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;BeautifulSoup&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;_session&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;get&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;BASE_URL&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;)&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;content&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;)&lt;/span&gt;\n    &lt;span class=\&quot;n\&quot;&gt;_xsrf&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;soup&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;find&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;s1\&quot;&gt;&#x27;input&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;,&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;attrs&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;{&lt;/span&gt;&lt;span class=\&quot;s1\&quot;&gt;&#x27;name&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;:&lt;/span&gt;&lt;span class=\&quot;s1\&quot;&gt;&#x27;_xsrf&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;})[&lt;/span&gt;&lt;span class=\&quot;s1\&quot;&gt;&#x27;value&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;]&lt;/span&gt;\n    &lt;span class=\&quot;k\&quot;&gt;return&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;_xsrf&lt;/span&gt;\n    \n&lt;span class=\&quot;k\&quot;&gt;def&lt;/span&gt; &lt;span class=\&quot;nf\&quot;&gt;getHashId&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;personUrl&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;):&lt;/span&gt;\n    &lt;span class=\&quot;sd\&quot;&gt;&#x27;&#x27;&#x27;这个是需要抓取的用户的hashid，不是当前登录用户的hashid&#x27;&#x27;&#x27;&lt;/span&gt;\n    &lt;span class=\&quot;n\&quot;&gt;soup&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;BeautifulSoup&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;_session&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;get&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;personUrl&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;)&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;content&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;)&lt;/span&gt;\n    &lt;span class=\&quot;n\&quot;&gt;hashIdText&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;soup&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;find&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;s1\&quot;&gt;&#x27;script&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;,&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;attrs&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;{&lt;/span&gt;&lt;span class=\&quot;s1\&quot;&gt;&#x27;data-name&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;:&lt;/span&gt; &lt;span class=\&quot;s1\&quot;&gt;&#x27;current_people&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;})&lt;/span&gt;\n    &lt;span class=\&quot;k\&quot;&gt;return&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;json&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;loads&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;hashIdText&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;text&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;)[&lt;/span&gt;&lt;span class=\&quot;mi\&quot;&gt;3&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;]&lt;/span&gt;\n\n&lt;span class=\&quot;k\&quot;&gt;def&lt;/span&gt; &lt;span class=\&quot;nf\&quot;&gt;main&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;():&lt;/span&gt;\n    &lt;span class=\&quot;n\&quot;&gt;login&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;()&lt;/span&gt;\n    &lt;span class=\&quot;n\&quot;&gt;followType&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;nb\&quot;&gt;input&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;s1\&quot;&gt;&#x27;请配置抓取类别：0-抓取关注了谁 其它-被哪些人关注&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;)&lt;/span&gt;\n    &lt;span class=\&quot;n\&quot;&gt;followType&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;s1\&quot;&gt;&#x27;ees&#x27;&lt;/span&gt; &lt;span class=\&quot;k\&quot;&gt;if&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;followType&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;==&lt;/span&gt; &lt;span class=\&quot;mi\&quot;&gt;0&lt;/span&gt; &lt;span class=\&quot;k\&quot;&gt;else&lt;/span&gt; &lt;span class=\&quot;s1\&quot;&gt;&#x27;ers&#x27;&lt;/span&gt;\n    &lt;span class=\&quot;k\&quot;&gt;for&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;followerId&lt;/span&gt; &lt;span class=\&quot;ow\&quot;&gt;in&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;resourceLines&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;:&lt;/span&gt;\n        &lt;span class=\&quot;k\&quot;&gt;try&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;:&lt;/span&gt;\n            &lt;span class=\&quot;n\&quot;&gt;readFollowerNumbers&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;followerId&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;,&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;followType&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;)&lt;/span&gt;\n            &lt;span class=\&quot;n\&quot;&gt;resultFollowerFile&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;flush&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;()&lt;/span&gt;\n        &lt;span class=\&quot;k\&quot;&gt;except&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;:&lt;/span&gt;\n            &lt;span class=\&quot;k\&quot;&gt;pass&lt;/span&gt;\n   \n&lt;span class=\&quot;k\&quot;&gt;if&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;__name__&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;==&lt;/span&gt;&lt;span class=\&quot;s1\&quot;&gt;&#x27;__main__&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;:&lt;/span&gt;\n    &lt;span class=\&quot;n\&quot;&gt;main&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;()&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;noscript&gt;&lt;img data-rawheight=\&quot;644\&quot; data-rawwidth=\&quot;712\&quot; src=\&quot;https://pic4.zhimg.com/84f6a01356d4ae1be5b59c771522d07b_b.png\&quot; class=\&quot;origin_image zh-lightbox-thumb\&quot; width=\&quot;712\&quot; data-original=\&quot;https://pic4.zhimg.com/84f6a01356d4ae1be5b59c771522d07b_r.png\&quot;&gt;&lt;/noscript&gt;&lt;img data-rawheight=\&quot;644\&quot; data-rawwidth=\&quot;712\&quot; src=\&quot;data:image/svg+xml;utf8,&amp;lt;svg%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20width=&#x27;712&#x27;%20height=&#x27;644&#x27;&amp;gt;&amp;lt;/svg&amp;gt;\&quot; class=\&quot;origin_image zh-lightbox-thumb lazy\&quot; width=\&quot;712\&quot; data-original=\&quot;https://pic4.zhimg.com/84f6a01356d4ae1be5b59c771522d07b_r.png\&quot; data-actualsrc=\&quot;https://pic4.zhimg.com/84f6a01356d4ae1be5b59c771522d07b_b.png\&quot;&gt;&quot;,&quot;commentCount&quot;:15,&quot;extras&quot;:&quot;&quot;,&quot;reshipmentSettings&quot;:&quot;need_payment&quot;,&quot;thanksCount&quot;:19,&quot;rewardInfo&quot;:{&quot;rewardMemberCount&quot;:0,&quot;tagline&quot;:&quot;&quot;,&quot;rewardTotalMoney&quot;:0,&quot;canOpenReward&quot;:false,&quot;isRewardable&quot;:false},&quot;isCopyable&quot;:false,&quot;type&quot;:&quot;answer&quot;,&quot;thumbnail&quot;:&quot;https://pic4.zhimg.com/84f6a01356d4ae1be5b59c771522d07b_200x112.png&quot;,&quot;isNormal&quot;:true}},&quot;articles&quot;:{},&quot;columns&quot;:{},&quot;topics&quot;:{},&quot;roundtables&quot;:{},&quot;favlists&quot;:{},&quot;comments&quot;:{},&quot;notifications&quot;:{},&quot;ebooks&quot;:{},&quot;activities&quot;:{},&quot;feeds&quot;:{},&quot;pins&quot;:{},&quot;promotions&quot;:{}},&quot;currentUser&quot;:&quot;&quot;,&quot;token&quot;:{&quot;xsrf&quot;:&quot;8c24d2d9-cd2e-4113-b73b-98efe359b609&quot;,&quot;xUDID&quot;:&quot;&quot;},&quot;account&quot;:{&quot;locakTicketStatus&quot;:false,&quot;challenge&quot;:[],&quot;errorStatus&quot;:false,&quot;message&quot;:&quot;&quot;,&quot;isFetching&quot;:false},&quot;notification&quot;:{},&quot;people&quot;:{&quot;isFetching&quot;:false,&quot;activitiesByUser&quot;:{},&quot;answersByUser&quot;:{},&quot;answersSortByVotesByUser&quot;:{},&quot;answersMarkedByUser&quot;:{},&quot;votedAnswersByUser&quot;:{},&quot;thankedAnswersByUser&quot;:{},&quot;voteAnswersByUser&quot;:{},&quot;thankAnswersByUser&quot;:{},&quot;topicAnswersByUser&quot;:{},&quot;articlesByUser&quot;:{},&quot;articlesSortByVotesByUser&quot;:{},&quot;pinsByUser&quot;:{},&quot;questionsByUser&quot;:{},&quot;commercialQuestionsByUser&quot;:{},&quot;favlistsByUser&quot;:{},&quot;followingByUser&quot;:{},&quot;followersByUser&quot;:{},&quot;mutualsByUser&quot;:{},&quot;followingColumnsByUser&quot;:{},&quot;followingQuestionsByUser&quot;:{},&quot;followingFavlistsByUser&quot;:{},&quot;followingTopicsByUser&quot;:{},&quot;publicationsByUser&quot;:{},&quot;columnsByUser&quot;:{},&quot;allFavlistsByUser&quot;:{},&quot;brands&quot;:null},&quot;env&quot;:{&quot;experiment&quot;:{&quot;ge3&quot;:&quot;ge3_9&quot;,&quot;ge2&quot;:&quot;ge2_1&quot;,&quot;appStoreRateDialog&quot;:&quot;close&quot;,&quot;nwebStickySidebar&quot;:&quot;sticky&quot;,&quot;favAct&quot;:&quot;default&quot;,&quot;default&quot;:&quot;None&quot;,&quot;nwebAnswerRecommendLive&quot;:&quot;newVersion&quot;,&quot;newMore&quot;:&quot;new&quot;,&quot;bookstoreNativeOrWebView&quot;:&quot;webView&quot;,&quot;qrcodeLogin&quot;:&quot;qrcode&quot;,&quot;newBuyBar&quot;:&quot;liveoldbuy&quot;,&quot;homeUi2&quot;:&quot;default&quot;,&quot;wechatShareModal&quot;:&quot;wechat_share_modal_show&quot;,&quot;mobileQaPageProxyHeifetz&quot;:&quot;m_qa_page_nweb&quot;,&quot;iOSNewestVersion&quot;:&quot;4.0.0&quot;,&quot;qaStickySidebar&quot;:&quot;sticky_sidebar&quot;,&quot;androidProfilePanel&quot;:&quot;panel_a&quot;,&quot;liveStore&quot;:&quot;ls_a2_b2_c1_f2&quot;,&quot;zcmLighting&quot;:&quot;zcm&quot;,&quot;iosNewQuestion&quot;:&quot;disable&quot;},&quot;userAgent&quot;:{&quot;Edge&quot;:false,&quot;Wechat&quot;:false,&quot;Weibo&quot;:false,&quot;QQ&quot;:false,&quot;Mobile&quot;:false,&quot;Android&quot;:false,&quot;iOS&quot;:false,&quot;isAppleDevice&quot;:false,&quot;Zhihu&quot;:false,&quot;isBot&quot;:false,&quot;isWebView&quot;:false},&quot;trafficSource&quot;:&quot;&quot;,&quot;edition&quot;:{&quot;baidu&quot;:false,&quot;yidianzixun&quot;:false},&quot;theme&quot;:&quot;light&quot;},&quot;config&quot;:{&quot;isWindow&quot;:1,&quot;canWrite&quot;:false,&quot;alertTimeSpan&quot;:3600,&quot;tip&quot;:&quot;应国家法规对于帐号实名的要求，进行下一步操作前，需要先完成手机绑定。&quot;},&quot;pushNotifications&quot;:{&quot;default&quot;:{&quot;isFetching&quot;:false,&quot;isDrained&quot;:false,&quot;ids&quot;:[]},&quot;follow&quot;:{&quot;isFetching&quot;:false,&quot;isDrained&quot;:false,&quot;ids&quot;:[]},&quot;vote-thank&quot;:{&quot;isFetching&quot;:false,&quot;isDrained&quot;:false,&quot;ids&quot;:[]},&quot;currentTab&quot;:&quot;default&quot;,&quot;notificationsCount&quot;:{&quot;default&quot;:0,&quot;follow&quot;:0,&quot;vote-thank&quot;:0}},&quot;messages&quot;:{&quot;data&quot;:{},&quot;currentTab&quot;:&quot;common&quot;,&quot;messageCount&quot;:0},&quot;register&quot;:{&quot;registerValidateSucceeded&quot;:null,&quot;registerValidateErrors&quot;:{},&quot;registerConfirmError&quot;:null,&quot;sendDigitsError&quot;:null,&quot;registerConfirmSucceeded&quot;:null},&quot;login&quot;:{&quot;loginConfirmError&quot;:null,&quot;sendDigitsError&quot;:null,&quot;loginConfirmSucceeded&quot;:null,&quot;qrcodeLoginToken&quot;:&quot;&quot;,&quot;qrcodeLoginScanStatus&quot;:0,&quot;qrcodeLoginError&quot;:null,&quot;qrcodeLoginReturnNewToken&quot;:false},&quot;active&quot;:{&quot;sendDigitsError&quot;:null,&quot;activeConfirmSucceeded&quot;:null,&quot;activeConfirmError&quot;:null},&quot;question&quot;:{&quot;followers&quot;:{},&quot;concernedFollowers&quot;:{},&quot;answers&quot;:{&quot;29926060&quot;:{&quot;isFetching&quot;:false,&quot;isDrained&quot;:false,&quot;ids&quot;:[117276271,46420213,46174116],&quot;newIds&quot;:[117276271,46420213,46174116],&quot;totals&quot;:16,&quot;isPrevDrained&quot;:true,&quot;previous&quot;:&quot;http://www.zhihu.com/api/v4/questions/29926060/answers?sort_by=default&amp;include=data%5B%2A%5D.is_normal%2Cadmin_closed_comment%2Creward_info%2Cis_collapsed%2Cannotation_action%2Cannotation_detail%2Ccollapse_reason%2Cis_sticky%2Ccollapsed_by%2Csuggest_edit%2Ccomment_count%2Ccan_comment%2Ccontent%2Ceditable_content%2Cvoteup_count%2Creshipment_settings%2Ccomment_permission%2Ccreated_time%2Cupdated_time%2Creview_info%2Cquestion%2Cexcerpt%2Crelationship.is_authorized%2Cis_author%2Cvoting%2Cis_thanked%2Cis_nothelp%2Cupvoted_followees%3Bdata%5B%2A%5D.mark_infos%5B%2A%5D.url%3Bdata%5B%2A%5D.author.follower_count%2Cbadge%5B%3F%28type%3Dbest_answerer%29%5D.topics&amp;limit=3&amp;offset=0&quot;,&quot;next&quot;:&quot;http://www.zhihu.com/api/v4/questions/29926060/answers?sort_by=default&amp;include=data%5B%2A%5D.is_normal%2Cadmin_closed_comment%2Creward_info%2Cis_collapsed%2Cannotation_action%2Cannotation_detail%2Ccollapse_reason%2Cis_sticky%2Ccollapsed_by%2Csuggest_edit%2Ccomment_count%2Ccan_comment%2Ccontent%2Ceditable_content%2Cvoteup_count%2Creshipment_settings%2Ccomment_permission%2Ccreated_time%2Cupdated_time%2Creview_info%2Cquestion%2Cexcerpt%2Crelationship.is_authorized%2Cis_author%2Cvoting%2Cis_thanked%2Cis_nothelp%2Cupvoted_followees%3Bdata%5B%2A%5D.mark_infos%5B%2A%5D.url%3Bdata%5B%2A%5D.author.follower_count%2Cbadge%5B%3F%28type%3Dbest_answerer%29%5D.topics&amp;limit=3&amp;offset=3&quot;}},&quot;hiddenAnswers&quot;:{},&quot;createdAnswers&quot;:{},&quot;collapsedAnswers&quot;:{},&quot;notificationAnswers&quot;:{},&quot;invitationCandidates&quot;:{},&quot;inviters&quot;:{},&quot;invitees&quot;:{},&quot;similarQuestions&quot;:{},&quot;relatedLives&quot;:{},&quot;recommendReadings&quot;:{},&quot;bio&quot;:{},&quot;brand&quot;:{},&quot;commonAnswerCount&quot;:0,&quot;hiddenAnswerCount&quot;:0},&quot;comments&quot;:{&quot;pagination&quot;:{},&quot;collapsed&quot;:{},&quot;reverse&quot;:{},&quot;reviewing&quot;:{},&quot;conversation&quot;:{},&quot;parent&quot;:{}},&quot;shareTexts&quot;:{},&quot;answers&quot;:{&quot;voters&quot;:{},&quot;copyrightApplicants&quot;:{},&quot;favlists&quot;:{},&quot;newAnswer&quot;:{}},&quot;banner&quot;:{},&quot;topics&quot;:{&quot;bios&quot;:{}},&quot;captcha&quot;:{&quot;captchaNeeded&quot;:false,&quot;captchaBase64String&quot;:null,&quot;captchaValidationMessage&quot;:null,&quot;loginCaptchaExpires&quot;:false},&quot;sms&quot;:{&quot;supportedCountries&quot;:[]},&quot;explore&quot;:{&quot;recommendations&quot;:{},&quot;hotfeeds&quot;:{}},&quot;articles&quot;:{&quot;voters&quot;:{}},&quot;favlists&quot;:{&quot;relations&quot;:{}},&quot;pins&quot;:{&quot;voters&quot;:{}},&quot;topstory&quot;:{&quot;topstorys&quot;:{&quot;isFetching&quot;:false,&quot;isDrained&quot;:false,&quot;afterId&quot;:0,&quot;items&quot;:[],&quot;next&quot;:null},&quot;sidebar&quot;:null,&quot;announcement&quot;:{}},&quot;upload&quot;:{},&quot;video&quot;:{&quot;data&quot;:{}},&quot;guide&quot;:{&quot;guide&quot;:{&quot;isFetching&quot;:false,&quot;isShowGuide&quot;:false}},&quot;switches&quot;:{},&quot;coupon&quot;:{&quot;isRedeemingCoupon&quot;:false},&quot;reward&quot;:{}}" data-config="{&quot;apiAddress&quot;:&quot;/api/v4/&quot;,&quot;deployEnv&quot;:&quot;production&quot;}" data-reactid="20"></div><script src="https://static.zhihu.com/heifetz/vendor.1f389462803af519e7ae.js" data-reactid="21"></script><script src="https://static.zhihu.com/heifetz/main.raven.fbe8acb80d9889cc6ff5.js" async="" data-reactid="22"></script><script src="https://static.zhihu.com/heifetz/main.app.eb54b6ef142751270c9b.js" data-reactid="23"></script></body></html>